exports.ids=[3],exports.modules={27:function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"d",(function(){return n})),r.d(e,"g",(function(){return d})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return v})),r.d(e,"f",(function(){return _})),r.d(e,"a",(function(){return m}));var l=r(6);const o=t=>Object(l.b)({method:"GET",params:t,url:"/api/articles"}),n=t=>Object(l.b)({method:"GET",url:"/api/articles/"+t}),d=t=>Object(l.b)({method:"GET",params:t,url:"/api/articles/feed"}),c=t=>Object(l.b)({method:"POST",url:`/api/articles/${t}/favorite`}),v=t=>Object(l.b)({method:"DELETE",url:`/api/articles/${t}/favorite`}),_=t=>Object(l.b)({method:"GET",url:`/api/articles/${t}/comments`}),m=(t,e)=>Object(l.b)({method:"POST",url:`/api/articles/${t}/comments`,data:e})},30:function(t,e,r){"use strict";r.r(e);var l=r(27),o=r(6);var n=r(7),d={name:"HomeIndex",async asyncData({query:t}){let e=Number.parseInt(t.page||1);const r=t.tag||"",n=t.tab||"global_feed",d="your_feed"===n?l.g:l.e,[c,v]=await Promise.all([d({limit:20,offset:20*(e-1),tag:r}),Object(o.b)({method:"GET",url:"/api/tags"})]);return c.data.articles.forEach(article=>article.favoriteDisabled=!1),{...c.data,limit:20,page:e,tags:v.data.tags,tab:n,tag:r}},watchQuery:["page","tag","tab"],computed:{...Object(n.mapState)(["user"]),totalPage(){return Math.ceil(this.articlesCount/this.limit)}},methods:{async favorite(article){article.favoriteDisabled=!0,article.favorited?(await Object(l.c)(article.slug),article.favorited=!1,article.favoritesCount+=-1):(await Object(l.b)(article.slug),article.favorited=!0,article.favoritesCount++),article.favoriteDisabled=!1}}},c=r(1),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[t._ssrNode('<div class="banner"><div class="container"><h1 class="logo-font">conduit</h1> <p>A place to share your knowledge.</p></div></div> '),t._ssrNode('<div class="container page">',"</div>",[t._ssrNode('<div class="row">',"</div>",[t._ssrNode('<div class="col-md-9">',"</div>",[t._ssrNode('<div class="feed-toggle">',"</div>",[t._ssrNode('<ul class="nav nav-pills outline-active">',"</ul>",[t.user?t._ssrNode('<li class="nav-item">',"</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"your_feed"===t.tab},attrs:{exact:"",to:{name:"home",query:{tab:"your_feed"}}}},[t._v("Your Feed")])],1):t._e(),t._ssrNode(" "),t._ssrNode('<li class="nav-item">',"</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"global_feed"===t.tab},attrs:{exact:"",to:{name:"home",query:{tab:"global_feed"}}}},[t._v("Global Feed")])],1),t._ssrNode(" "),t._ssrNode('<li class="nav-item"'+t._ssrStyle(null,null,{display:t.tag?"":"none"})+">","</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"tag"===t.tab},attrs:{exact:"",to:{name:"home",query:{tab:"tag",tag:t.tag}}}},[t._v("# "+t._s(t.tag))])],1)],2)]),t._ssrNode(" "),t._l(t.articles,(function(article){return t._ssrNode('<div class="article-preview">',"</div>",[t._ssrNode('<div class="article-meta">',"</div>",[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[r("img",{attrs:{src:article.author.image}})]),t._ssrNode(" "),t._ssrNode('<div class="info">',"</div>",[r("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:article.author.username}}}},[t._v(t._s(article.author.username))]),t._ssrNode(' <span class="date">'+t._ssrEscape(t._s(t._f("date")(article.createdAt,"MMM DD, YYYY")))+"</span>")],2),t._ssrNode(" <button"+t._ssrAttr("disabled",article.favoriteDisabled)+t._ssrClass("btn btn-outline-primary btn-sm pull-xs-right",{active:article.favorited})+'><i class="ion-heart"></i>'+t._ssrEscape(" "+t._s(article.favoritesCount)+"\n                        ")+"</button>")],2),t._ssrNode(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:article.slug}}}},[r("h1",[t._v(t._s(article.title))]),t._v(" "),r("p",[t._v(t._s(article.description))]),t._v(" "),r("span",[t._v("Read more...")])])],2)})),t._ssrNode(' <div class="article-preview"'+t._ssrStyle(null,null,{display:0===t.articles.length?"":"none"})+">No articles are here... yet.</div> "),t._ssrNode("<nav>","</nav>",[t._ssrNode('<ul class="pagination">',"</ul>",t._l(t.totalPage,(function(e){return t._ssrNode("<li"+t._ssrClass("page-item",{active:e===t.page})+">","</li>",[r("nuxt-link",{staticClass:"page-link",attrs:{to:{name:"home",query:{page:e,tab:t.tab,tag:t.$route.query.tag}}}},[t._v("\n                                "+t._s(e)+"\n                            ")])],1)})),0)])],2),t._ssrNode(" "),t._ssrNode('<div class="col-md-3">',"</div>",[t._ssrNode('<div class="sidebar">',"</div>",[t._ssrNode("<p>Popular Tags</p> "),t._ssrNode('<div class="tag-list">',"</div>",t._l(t.tags,(function(e){return e?r("nuxt-link",{key:e,staticClass:"tag-pill tag-default",attrs:{to:{name:"home",query:{tag:e,tab:"tag"}}}},[t._v(t._s(e))]):t._e()})),1)],2)])],2)])],2)}),[],!1,null,null,"6745ee41");e.default=component.exports}};